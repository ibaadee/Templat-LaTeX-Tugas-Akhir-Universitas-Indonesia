\documentclass[12pt, twoside]{report} % basis ukuran font adalah 12 poin dan opsi twoside untuk keperluan penomoran halaman kiri-kanan

% spesifikasi kertas, margin, font, line spacing, dan footer
\usepackage[paper = a4paper,
            left = 3cm, 
            right = 3cm, 
            top = 3cm, 
            bottom = 3cm]{geometry}

% \usepackage[english]{babel}            
% \usepackage[indonesian]{babel} % agar pemenggalan kata sesuai kbbi
\usepackage[english=american]{csquotes} % untuk kutipan otomatis APA
\usepackage[utf8]{inputenc} 

% pengaturan auto text pada footer
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead{} % hapus semua header
\fancyfoot{} % hapus semua footer
% hilangkan garis dan jarak pada header
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\headruleskip}{0pt}
% hilangkan garis dan jarak pada footer

\renewcommand{\footrulewidth}{0pt}
\renewcommand{\footruleskip}{0pt}
\usepackage{helvet} % font arial
\fancyfoot[R]{\sffamily \small \textbf{Universitas Indonesia}} % digunakan font arial yang di-bold dengan ukuran small agar ukuran font menjadi 10 poin karena basis ukuran font adalah 12 poin

\usepackage{mathptmx} % font times new roman

\usepackage{setspace}
\onehalfspacing % line spacing = 1.5 lines

% % mengganti judul table of contents, list of tables, list of figures, bab, dan bibliography, serta nama gambar dan tabel ke Bahasa Indonesia
\renewcommand{\contentsname}{DAFTAR ISI}
\renewcommand{\listfigurename}{DAFTAR GAMBAR}
\renewcommand{\listtablename}{DAFTAR TABEL}
\renewcommand{\chaptername}{BAB}
\renewcommand{\bibname}{DAFTAR REFERENSI}

\def\figurename{\textbf{Gambar}}
\def\tablename{\textbf{Tabel}}

% perintah baru untuk memasukkan judul chapter yang bukan bab ke daftar isi
\newcommand{\addchapter}[1]{
    \addcontentsline{toc}{chapter}{#1}
}

\setcounter{secnumdepth}{3} % maksimum hanya sampai subsubsection 
\setcounter{tocdepth}{3} % menampilkan sampai subsubsection pada daftar isi

% pengaturan tampilan bab
\usepackage{sectsty}
\usepackage{titlesec}
\sectionfont{\normalsize} % ukuran font section adalah 12 poin
\subsectionfont{\normalsize} % ukuran font subsection adalah 12 poin
\titleformat{\chapter}[display]   
{\centering \normalsize \bfseries}{\chaptertitlename\ \thechapter}{-12pt}{\normalsize}   
\titlespacing*{\chapter}{0pt}{-20pt}{8pt} % pengaturan spacing chapter
\titlespacing{\section}{0pt}{8pt}{0pt} % pengaturan spacing section
\titlespacing{\subsection}{0pt}{8pt}{0pt} % pengaturan spacing section


% hal-hal yang berkaitan dengan matematika (salinan dari templat latex proposal skripsi dengan sedikit modifikasi)
\usepackage{amsmath, amssymb, amsthm}
\numberwithin{equation}{chapter}

\theoremstyle{definition} % Isi teorema tidak ditulis miring
\newtheorem{theorem}{Teorema}[chapter]
\newtheorem{lemma}[theorem]{Lema} 
\newtheorem{proposition}[theorem]{Proposisi}
\newtheorem{corollary}[theorem]{Akibat}
\newtheorem{definition}{Definisi}[chapter]
\newtheorem{example}{Contoh}[chapter]
\newtheorem*{remark}{Catatan}
\def\proofname{Bukti}

% hapus jarak pemisah untuk enumerate dan itemize agar jarak konsisten
\usepackage{enumitem}
\setlist[enumerate]{nosep}
\setlist[itemize]{nosep}

% mengatur jarak antara gambar dan caption gambar agar konsisten dengan line spacing yang digunakan
\usepackage[skip = 3pt, labelfont=bf, justification=centering, font=small]{caption}
\raggedbottom

% pengaturan daftar referensi
% \usepackage[natbibapa]{apacite}
% \bibliographystyle{apacite}
% \renewcommand{\BOthers}{dkk} % mengubah et al. menjadi dkk.\renewcommand{\BBAB}{dan} % mengubah kata and dalam sitasi in-text (\citet) menjadi &
% \renewcommand{\BRetrievedFrom}{} % menghilangkan frasa "retrieved from"
% \renewcommand{\doiprefix}{} % menghilangkan kata "doi:"

% Tambahkan file bibliografi Anda
\usepackage[backend=biber, style=apa, language=english]{biblatex}
\DeclareLanguageMapping{english}{english-apa}
\addbibresource{referensi.bib}
\DefineBibliographyStrings{english}{
  andothers = {dkk.,},
  in = {dalam},
  urlseen = {diakses},
  page = {halaman},
  pages = {halaman}
}
% Lalu ini opsional jika masih ingin jaga-jaga:
\ExecuteBibliographyOptions{language=english}

\usepackage{url}
\AtBeginDocument{\urlstyle{APACsame}} % agar font tautan yang ditampilkan sama dengan font yang digunakan dalam keseluruhan dokumen

% ==========================================================
% Pengaturan TOC, LOF, LOT, dan Lampiran dengan tocloft
% ==========================================================
\usepackage{tocloft}

% ------------------------
% Pengaturan DAFTAR LAMPIRAN
% ------------------------
\newcommand{\listappendicesname}{DAFTAR LAMPIRAN}
\newlistof{appendices}{apc}{\listappendicesname}
\newcommand{\appendices}[1]{\addcontentsline{apc}{appendices}{#1}}
\newcommand{\newappendix}[1]{\section*{#1}\appendices{#1}}

\renewcommand{\cftapctitlefont}{\hfill\normalsize\bfseries} 
\renewcommand{\cftafterapctitle}{\hfill}
\addtolength{\cftbeforeapctitleskip}{-2.25cm} % jarak sebelum judul daftar lampiran
\addtolength{\cftafterapctitleskip}{0cm} % jarak setelah judul daftar lampiran

% ------------------------
% Pengaturan DAFTAR ISI
% ------------------------
\renewcommand{\cfttoctitlefont}{\hfill\normalsize\bfseries}
\renewcommand{\cftaftertoctitle}{\hfill}
\addtolength{\cftbeforetoctitleskip}{-2.25cm}
\addtolength{\cftaftertoctitleskip}{0cm}

% Semua level di TOC punya titik-titik
\renewcommand{\cftchapleader}{\cftdotfill{\cftdotsep}}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}
\renewcommand{\cftsubsecleader}{\cftdotfill{\cftdotsep}}
\renewcommand{\cftsubsubsecleader}{\cftdotfill{\cftdotsep}}
\renewcommand{\cftdotsep}{1} % jarak antar titik lebih rapat

% Jarak antar sublevel rapat
\setlength{\cftbeforesecskip}{1pt}
\setlength{\cftbeforesubsecskip}{1pt}
\setlength{\cftbeforesubsubsecskip}{1pt}

% Jarak antar CHAPTER bernomor
\setlength{\cftbeforechapskip}{6pt}

% Perintah khusus untuk chapter TANPA nomor di TOC dengan jarak rapat
\newcommand{\unnumberedchapterintoc}[1]{%
  \addtocontents{toc}{\protect\addvspace{1pt}}% jarak rapat
  \addcontentsline{toc}{chapter}{#1}%
}

% ------------------------
% Pengaturan DAFTAR GAMBAR
% ------------------------
\renewcommand{\cftloftitlefont}{\hfill\normalsize\bfseries}
\renewcommand{\cftafterloftitle}{\hfill}
\addtolength{\cftbeforeloftitleskip}{-2.25cm}
\addtolength{\cftafterloftitleskip}{0cm}
\renewcommand{\cftfigleader}{\cftdotfill{\cftdotsep}}

% ------------------------
% Pengaturan DAFTAR TABEL
% ------------------------
\renewcommand{\cftlottitlefont}{\hfill\normalsize\bfseries}
\renewcommand{\cftafterlottitle}{\hfill}
\addtolength{\cftbeforelottitleskip}{-2.25cm}
\addtolength{\cftafterlottitleskip}{0cm}
% \renewcommand{\cfttableleader}{\cftdotfill{\cftdotsep}}

% package lain yang diperlukan (tambahkan package yang diperlukan)
\usepackage{array}
\usepackage{emptypage}
\usepackage{float}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{indentfirst}
\usepackage{lipsum}
\usepackage{parskip}
\usepackage{tablefootnote}

% library untuk pembuatan tabel
% \usepackage{array}
% \usepackage{longtable}
\usepackage{color}
\usepackage{tabularray}
% \usepackage{ltablex}
\usepackage{tabularx}
\usepackage{booktabs}       % untuk garis tabel yang rapi
\usepackage{colortbl}       % untuk memberi warna latar
\usepackage{longtable}      % untuk tabel panjang & repeat header
\usepackage[longtable]{multirow}       % untuk merge kolom/baris
\usepackage[table]{xcolor}  % untuk warna latar
% \keepXColumns               % agar kolom X tetap wrap di setiap halaman.
\usepackage{makecell}
\usepackage{microtype} % untuk micro-typography
\usepackage{threeparttable} % for table notes
\usepackage{tablefootnote} % footnotes in tables

% Mengatur manual spacing

\setlength{\parskip}{8pt}    % jarak antar paragraf
\setlength{\parindent}{0pt}  % hilangkan indentasi paragraf

\usepackage{etoolbox}

% Tambahkan pesan ke halaman kosong akibat \cleardoublepage
\makeatletter
\def\cleardoublepage{%
  \clearpage%
  \ifodd\c@page\else%
    \hbox{}%
    \vspace*{\fill}%
    \begin{center}
      \textit{Halaman ini sengaja dikosongkan.}
    \end{center}%
    \vspace{\fill}%
    \newpage%
  \fi%
}
\makeatother

% Pemenggalan kata dalam bahasa Indonesia
\input{hyphenation}

% Definisi Warna
\definecolor{abuabu}{gray}{0.9} % Nilai 0.9 artinya sangat terang

% Font untuk simbol
\usepackage{pifont}

%----------memulai dokumen----------
\begin{document}

\input{1_pengantar/0-data}

% halaman sampul dan judul menggunakan line spacing = single
\begin{singlespace}
%----------Halaman Sampul----------
\input{1_pengantar/1-halaman_sampul}

\newpage

\pagenumbering{roman} % mulai dari halaman judul digunakan penomoran halaman dengan angka romawi kecil, tetapi khusus halaman judul, nomor halamannya tidak ditampilkan

%----------Halaman Judul----------
\addchapter{HALAMAN JUDUL}
\input{1_pengantar/2-halaman_judul}
\end{singlespace}

\newpage

% style halaman sebelum abstrak: hanya ada nomor halaman di tengah bawah
\setcounter{page}{2}
\fancypagestyle{plain}{
    \fancyhead{} % hapus semua header
    \fancyfoot{} % hapus semua footer
    \fancyfoot[C]{\thepage} % posisikan nomor halaman di tengah bawah
}

%----------Halaman Pernyataan Orisinalitas----------
\addchapter{HALAMAN PERNYATAAN ORISINALITAS}
% halaman pernyataan orisinalitas menggunakan line spacing = double
\begin{doublespace}
% \input{1_pengantar/3-halaman_pernyataan_orisinalitas}
\end{doublespace}

\newpage

%----------Halaman Pengesahan----------
\addchapter{HALAMAN PENGESAHAN}
% halaman pengesahan menggunakan line spacing = single
\begin{singlespace}
    % \input{1_pengantar/4-halaman_pengesahan}
\end{singlespace}

\newpage

%----------Kata Pengantar----------
\addchapter{KATA PENGANTAR}
% \input{1_pengantar/5-kata_pengantar}

\newpage

%----------Halaman Pernyataan Persetujuan Publikasi Tugas Akhir untuk Kepentingan Akademis----------
\addchapter{HALAMAN PERNYATAAN PERSETUJUAN PUBLIKASI TUGAS AKHIR UNTUK KEPENTINGAN AKADEMIS}
% \input{1_pengantar/6-halaman_pernyataan_persetujuan_publikasi_tugas_akhir_untuk_kepentingan_akademis}

\newpage

% style untuk setiap awal bab
\fancypagestyle{plain}{
    \fancyhead{} % hapus semua header
    \fancyfoot{} % hapus semua footer
    \fancyfoot[C]{\thepage} % posisikan nomor halaman di tengah bawah
    \fancyfoot[R]{\sffamily \small \textbf{Universitas Indonesia}} % digunakan font arial yang di-bold dengan ukuran small agar ukuran font menjadi 10 poin karena basis ukuran font adalah 12 poin
}

%----------Abstrak----------
\addchapter{ABSTRAK}
\input{1_pengantar/7-abstrak}

\newpage

%----------Abstract----------
\addchapter{ABSTRACT}
\input{1_pengantar/8-abstract}

\newpage

% daftar isi, daftar gambar, dan daftar tabel menggunakan line spacing = single
\begin{singlespace}
%----------Daftar Isi----------
\addchapter{DAFTAR ISI}
\pagestyle{plain}
\tableofcontents

\newpage

%=====Hapus bagian ini jika tidak ada gambar dalam tugas akhir Anda (dari sini)=====
%----------Daftar Gambar----------
\addchapter{DAFTAR GAMBAR}
\listoffigures

\newpage
%=====(sampai sini)=====


%=====Hapus bagian ini jika tidak ada tabel dalam tugas akhir Anda (dari sini)=====
%----------Daftar Tabel----------
\addchapter{DAFTAR TABEL}
\listoftables

\newpage
%=====(sampai sini)=====


%=====Hapus bagian ini jika tidak ada lampiran dalam tugas akhir Anda (dari sini)=====
%----------Daftar Lampiran----------
\addchapter{DAFTAR LAMPIRAN}
\listofappendices
%=====(sampai sini)=====

\end{singlespace}

\cleardoublepage

% style penomoran halaman bagian isi
\fancyhead[LE, RO]{\thepage}
\pagenumbering{arabic}

%----------BAB 1----------
\input{2_isi/bab_1}
\cleardoublepage

%----------BAB 2----------
\input{2_isi/bab_2}
\cleardoublepage

%----------BAB 3----------
\input{2_isi/bab_3}
\cleardoublepage

%----------BAB 4----------
\input{2_isi/bab_4}
\cleardoublepage

%----------Daftar Referensi----------
\addchapter{DAFTAR REFERENSI}
% \bibliography{referensi} % untuk natbib
\printbibliography % untuk biblatex

%----------Lampiran----------
%=====Hapus bagian ini jika tidak ada lampiran dalam tugas akhir Anda (dari sini)=====
\newpage
\input{3_lampiran/lampiran}
%=====(sampai sini)=====

\end{document}
